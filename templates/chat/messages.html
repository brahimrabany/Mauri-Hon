
{% extends 'chat/chat.html' %}
{% block hide %}{% endblock %}
{% block messages %}
{% load static %}

 <div class="d-flex justify-content-between align-items-center border-bottom px-4 pt-4 flex-wrap">

										</div>
	<div class="chat-box-area dlab-scroll chat-box-area" id="chatArea">
											<div class="chat-box-area dz-scroll" id="chartBox" >
												 {% for message in messages %}
                                                 {% if message.receiver == request.user %}
												<div class="media my-4  justify-content-start align-items-start" style="padding:0px">
													<div class="image-box me-sm-4 me-2">
														<img src="images/group/g1.jpg" alt="" class="rounded-circle img-1">
														<span class="active1"></span>
													</div>
													<div class="message-received">
														<p class="mb-1">
															{{message}}</p>
														<span class="fs-12">{{message.timestamp}}</span>
													</div>
												</div>
                                                 {% else %}
<div class="media mb-4 justify-content-end align-items-end">
													<div class="message-sent">
														<p class="mb-1">
															{{message}}</p>
														<span class="fs-12">{{message.timestamp}}</span>
													</div>
													<div class="image-box ms-sm-4 ms-2 mb-4">
														<img src="/static/media/images/3910365359.jpg" alt="" class="rounded-circle img-1">
														<span class="active"></span>
													</div>
												</div>
										     	 {% endif %}
												{% endfor %}


						  </div>
				</div>


			</div>

  </div>

<script>
$(function () {
    $('#user{{ receiver.id }}').addClass('active');
    //Call receive function each 1 seconds to check for new messages in the database
    setInterval(receive,1000)
})
</script>
{% endblock %}
